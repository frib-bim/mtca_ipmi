# File: fgpdb.db
# Date: 2017-06-16
# Author: Wayne Lewis
#
# Description:
# Database for getting FGPDB sensor data via IPMI
#

# This record is scanned and triggers the device support to read the values.
# Device support then processes all the I/O Intr records.

record(bo, "$(P)SCANNER") {
	field(DESC, "Master record for scanning values")
	field(DTYP, "Python Device")
	field(SCAN, "1 second")
	field(OUT,  "@FRU update $(FRU_ID)")
	
	info(autosaveFields, "SCAN")
}

record(ai, "$(P)GTP_TRX_1_2V") {
	field(DESC, "GTP trx 1.2 V")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) GTP trx 1.2 V")
	field(PREC, "2")
}

record(ai, "$(P)CURRENT_1_2V") {
	field(DESC, "Current 1.2 V")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) Current 1.2 V")
	field(PREC, "2")
}

record(ai, "$(P)CURRENT_12V") {
	field(DESC, "Current 12 V")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) Current 12 V")
	field(PREC, "2")
}

record(ai, "$(P)CURRENT_3_3V") {
	field(DESC, "Current 3.3 V")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) Current 3.3 V")
	field(PREC, "2")
}

record(ai, "$(P)FPGA_1_2V") {
	field(DESC, "FPGA 1.2 V")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) FPGA 1.2 V")
	field(PREC, "2")
}

record(ai, "$(P)2_5/3_3_V_FMC_PP") {
	field(DESC, "2.5/3.3 V FMC PP")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) 2.5/3.3 V FMC PP")
	field(PREC, "2")
}

record(ai, "$(P)3_3_V_PP") {
	field(DESC, "3.3 V PP")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) 3.3 V PP")
	field(PREC, "2")
}

record(ai, "$(P)TEMP1_INLET") {
	field(DESC, "Temp 1 (inlet)")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) Temp 1 (inlet)")
	field(PREC, "2")
}

record(ai, "$(P)TEMP2_OUTLET") {
	field(DESC, "Temp 2 (outlet)")
	field(DTYP, "Python Device")
	field(SCAN, "I/O Intr")
	field(INP,  "@FRU get_val $(FRU_ID) Temp 2 (outlet)")
	field(PREC, "2")
}

